<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minimal Test</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        .success { color: green; }
        .error { color: red; }
    </style>
</head>
<body>
    <h1>Minimal Mobile Test</h1>
    
    <div id="test1">
        <p class="success">✅ Basic HTML working</p>
    </div>
    
    <div id="test2">
        <script>
            document.getElementById('test2').innerHTML = 
                '<p class="success">✅ Basic JavaScript working</p>';
        </script>
    </div>
    
    <div id="test3">
        <script>
            // Test our robust storage
            const storage = {
                _memoryStore: {},
                getItem: (key) => {
                    try {
                        const item = localStorage.getItem(key);
                        if (item !== null) return item;
                    } catch (err) {}
                    
                    try {
                        const item = sessionStorage.getItem(key);
                        if (item !== null) return item;
                    } catch (err) {}
                    
                    return storage._memoryStore[key] || null;
                },
                setItem: (key, value) => {
                    try { localStorage.setItem(key, value); } catch (err) {
                        try { sessionStorage.setItem(key, value); } catch (err2) {
                            storage._memoryStore[key] = value;
                        }
                    }
                }
            };
            
            storage.setItem('test', 'works');
            const result = storage.getItem('test');
            
            if (result === 'works') {
                document.getElementById('test3').innerHTML = 
                    '<p class="success">✅ Robust storage working</p>';
            } else {
                document.getElementById('test3').innerHTML = 
                    '<p class="error">❌ Robust storage failed: ' + result + '</p>';
            }
        </script>
    </div>
    
    <div style="margin-top: 30px;">
        <h3>Main App:</h3>
        <p><a href="/leadgen-lite/">Try main app again</a></p>
    </div>
</body>
</html>
